{% extends "stats/base.html" %}

{% block title %}My Gigs{% endblock %}

{% block content %}
<h2 class="mb-4">My Gigs</h2>

<div class="mb-4">
    <a href="{% url 'add_gig' %}" class="btn btn-custom">Add manually</a>
    <a href="{% url 'import_setlistfm' %}" class="btn btn-success">Import from Setlist.fm</a>
</div>

<!-- Gigs list -->
<ul class="list-group list-group-flush">
    {% for gig in gigs|slice:":10" %}
        <li class="list-group-item bg-dark text-light d-flex align-items-center">
            <div>
                <small>{{ gig.date|date:"F j, Y" }}</small>
                <strong>{{ gig.artist }}</strong><br>
                <small>{{ gig.venue }}, {{ gig.city }}</small><br>
            </div>
        </li>
    {% empty %}
        <li class="list-group-item text-light">No attended gigs yet.</li>
    {% endfor %}
</ul>

<!-- Show More/Less button -->
{% if items|length > 10 %}
    <button class="btn btn-custom" data-bs-target="#moreGigs" data-bs-toggle="collapse" data-toggle-button
                type="button">
        Show more
    </button>

    <div class="collapse mt-3" id="moreGigs">
        <ul class="list-group list-group-flush">
            {% for gig in gigs|slice:"10:" %}
                <li class="list-group-item bg-dark text-light border-secondary d-flex justify-content-between align-items-center">
                    <div>
                        <small>{{ gig.date|date:"F j, Y" }}</small>
                        <strong>{{ gig.artist }}</strong><br>
                        <small>{{ gig.venue }}, {{ gig.city }}</small><br>
                    </div>
                </li>
            {% endfor %}
        </ul>
    </div>
{% endif %}
{% endblock %}