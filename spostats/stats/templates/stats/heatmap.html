{% extends "stats/base.html" %}
{% block content %}
<div class="container mt-5">
    <div class="card bg-dark text-light p-4 shadow-lg">
        <h2 class="mb-4">Listening Heatmap</h2>
        <div id="cal-heatmap"></div>
    </div>
</div>

<!-- cal-heatmap -->
<script src="https://unpkg.com/cal-heatmap/dist/cal-heatmap.min.js"></script>
<link rel="stylesheet" href="https://unpkg.com/cal-heatmap/dist/cal-heatmap.css">

<script>
    const cal = new CalHeatmap();
    cal.paint({
        itemSelector: "#cal-heatmap",
        range: 12, // show 12 months
        domain: "month",
        subDomain: "day",
        data: {{ heatmap_data|safe }},
        start: new Date(new Date().getFullYear(), 0, 1), // from beginning of the current year
        cellSize: 15,
        legend: [1, 3, 5, 10, 20],
        theme: "dark",
    });
</script>
{% endblock %}
